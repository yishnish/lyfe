<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <script src="js/coordinates.js"></script>
    <script src="js/delta.js"></script>
    <script src="js/behaviors/baseBehavior.js"></script>
    <script src="js/behaviors/birthing.js"></script>
    <script src="js/behaviors/carnivore.js"></script>
    <script src="js/behaviors/copulates.js"></script>
    <script src="js/behaviors/food.js"></script>
    <script src="js/behaviors/moves.js"></script>
    <script src="js/behaviors/vegetarian.js"></script>
    <script src="js/things/thing.js"></script>
    <script src="js/things/animal.js"></script>
    <script src="js/things/vegetable.js"></script>
    <script src="js/things/fruitBush.js"></script>
    <script src="js/things/cow.js"></script>
    <script src="js/things/wolf.js"></script>
    <script src="js/display/worldNode.js"></script>
    <script src="js/world.js"></script>
    <script src="js/turnContext.js"></script>
    <script src="js/display/visualizer.js"></script>
    <script src="js/display/colorMapping.js"></script>
    <link href="css/view.css" rel="stylesheet"/>
</head>
<body>
    <div id="world-goes-here"></div>
    <script>
        var dataGrid = createGrid();
        var world = new World(dataGrid);
        var viz = new Visualizer(world, ColorMapping);
        document.getElementById("world-goes-here").appendChild(viz.getDisplayHtml());

        window.setInterval(function(){world.turn();}, 100);

        function createGrid(){
            var makers = [function () {
                return new Cow()
            }, function () {
                return new Wolf();
            }, function(){
                return new FruitBush()
            }];
            var grid = [];
            for(var i = 0; i < 100; i++) {
                var row = [];
                for(var j = 0; j < 100; j++) {
                    row.push(null);
                }
                grid.push(row);
            }
            for(i = 0; i < 10; i++) {
                for(j = 0; j < 10; j++) {
                    grid[i][j] = makers[Math.floor(Math.random() * makers.length)]();
                }
            }

            return grid;
        }
    </script>
</body>
</html>
